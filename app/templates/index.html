<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>MovieHunter</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
      type="text/css"
      media="all"
    />
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='js/jquery-1.4.2.min.js') }}"
    ></script>
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='js/jquery-func.js') }}"
    ></script>
    <!--[if IE 6
      ]><link rel="stylesheet" href="css/ie6.css" type="text/css" media="all"
    /><![endif]-->
  </head>
  <body>
    <!-- START PAGE SOURCE -->
    <div id="shell">
      <div id="header">
        <h1 id="logo"><a href="#">MovieHunter</a></h1>
        <div id="navigation">
          <ul>
            <li><a class="active" href="#">HOME</a></li>
            <li><a href="#">NEWS</a></li>
            <li><a href="#">IN THEATERS</a></li>
            <li><a href="#">COMING SOON</a></li>
            <li><a href="#">CONTACT</a></li>
            <li><a href="#">ADVERTISE</a></li>
          </ul>
        </div>
        <div id="sub-navigation">
          <ul>
            <li><a href="#">SHOW ALL</a></li>
            <li><a href="#">LATEST TRAILERS</a></li>
            <li><a href="#">TOP RATED</a></li>
            <li><a href="#">MOST COMMENTED</a></li>
          </ul>
          <div id="search">
            <form action="#" method="get" accept-charset="utf-8">
              <label for="search-field">SEARCH</label>
              <input
                type="text"
                name="search field"
                value="Enter search here"
                id="search-field"
                class="blink search-field"
              />
              <input type="submit" value="GO!" class="search-button" />
            </form>
          </div>
        </div>
      </div>
      <div id="main">
        <div id="content">
          <div class="box">
            <div class="head">
              <h2>LATEST TRAILERS</h2>
              <p class="text-right"><a href="#">See all</a></p>
            </div>
            <div class="movie">
              <div class="movie-image">
                <span class="play"><span class="name">X-MAN</span></span>
                <a href="#"><img src="css/images/movie1.jpg" alt="" /></a>
              </div>
              <div class="rating">
                <p>RATING</p>
                <div class="stars">
                  <div class="stars-in"></div>
                </div>
                <span class="comments">12</span>
              </div>
            </div>
            <div class="movie">
              <div class="movie-image">
                <span class="play"><span class="name">SPIDER MAN 2</span></span>
                <a href="#"><img src="css/images/movie2.jpg" alt="" /></a>
              </div>
              <div class="rating">
                <p>RATING</p>
                <div class="stars">
                  <div class="stars-in"></div>
                </div>
                <span class="comments">12</span>
              </div>
            </div>
            <div class="movie">
              <div class="movie-image">
                <span class="play"><span class="name">SPIDER MAN 3</span></span>
                <a href="#"><img src="css/images/movie3.jpg" alt="" /></a>
              </div>
              <div class="rating">
                <p>RATING</p>
                <div class="stars">
                  <div class="stars-in"></div>
                </div>
                <span class="comments">12</span>
              </div>
            </div>
            <div class="movie">
              <div class="movie-image">
                <span class="play"><span class="name">VALKYRIE</span></span>
                <a href="#"><img src="css/images/movie4.jpg" alt="" /></a>
              </div>
              <div class="rating">
                <p>RATING</p>
                <div class="stars">
                  <div class="stars-in"></div>
                </div>
                <span class="comments">12</span>
              </div>
            </div>
            <div class="movie">
              <div class="movie-image">
                <span class="play"><span class="name">GLADIATOR</span></span>
                <a href="#"><img src="css/images/movie5.jpg" alt="" /></a>
              </div>
              <div class="rating">
                <p>RATING</p>
                <div class="stars">
                  <div class="stars-in"></div>
                </div>
                <span class="comments">12</span>
              </div>
            </div>
            <div class="movie last">
              <div class="movie-image">
                <span class="play"><span class="name">ICE AGE</span></span>
                <a href="#"><img src="css/images/movie6.jpg" alt="" /></a>
              </div>
              <div class="rating">
                <p>RATING</p>
                <div class="stars">
                  <div class="stars-in"></div>
                </div>
                <span class="comments">12</span>
              </div>
            </div>
            <div class="cl">&nbsp;</div>
          </div>
        </div>
        <div class="cl">&nbsp;</div>
      </div>
    </div>
    <!-- END PAGE SOURCE -->

    <script type="text/javascript">
      $(function () {
        function showMovie(title) {
          $.get(
            "/movie/" + encodeURIComponent(title),
            function (data) {
              if (!data) return;
              $("#title").text(data.title);
              $("#poster").attr(
                "src",
                "https://neo4j-documentation.github.io/developer-resources/language-guides/assets/posters/" +
                  encodeURIComponent(data.title) +
                  ".jpg"
              );
              const $list = $("#crew").empty();
              data.cast.forEach(function (cast) {
                $list.append(
                  $(
                    "<li>" +
                      cast.name +
                      " " +
                      cast.job +
                      (cast.job == "acted" ? " as " + cast.role : "") +
                      "</li>"
                  )
                );
              });
            },
            "json"
          );
          return false;
        }
        function search() {
          const query = $("#search").find("input[name=search]").val();
          $.get(
            "/search?q=" + encodeURIComponent(query),
            function (data) {
              const t = $("table#results tbody").empty();
              if (!data || data.length == 0) return;
              data.forEach(function (movie) {
                $(
                  "<tr><td class='movie'>" +
                    movie.title +
                    "</td><td>" +
                    movie.released +
                    "</td><td>" +
                    movie.tagline +
                    "</td></tr>"
                )
                  .appendTo(t)
                  .click(function () {
                    showMovie($(this).find("td.movie").text());
                  });
              });
              showMovie(data[0].title);
            },
            "json"
          );
          return false;
        }

        $("#search").submit(search);
        search();
      });
    </script>
  </body>
</html>
